# Как использовать локальные node-пакеты в качестве зависимостей проекта. #

перевод [статьи Генри Блей-Романа](https://www.viget.com/articles/how-to-use-local-unpublished-node-packages-as-project-dependencies/)

Тестируйте ещё не опубликованные пакеты, обходя подводные камни, на которые можно наступить при работе с npm и yarn.

Случается, что Вам нужно установить локальный пакет в качестве зависимости на своём проекте. Возможно Вы создаете новый node-модуль для публикации, трудитесь над новым пакетом для его использования только на своих личных проектах или внутри команды, либо участвуете в улучшении уже существующего пакета с открытым кодом. В любом случае, Вам нужно проверить выполненные изменения в коде, прежде чем делать pull-запрос в удаленный репозиторий или публиковать модуль. Как же лучше добавить локальную версию пакета в свой проект для такого тестирования?

Вы можете пушнуть изменения в удаленную ветку, и именно её использовать для установки зависимости. Например при работе с гитхабом Вы можете использовать
команду  `yarn add (npm install) <git remote url>#<branch/commit/tag>` . Но помимо интернет-соединения, такой подход требует постоянно переустанавливать пакет при каждом внесенном в него изменении.

Можно использовать команды `npm add relative/path или yarn add relative/path`, которые скопируют папку с пакетом в каталог с node-модулями проекта. Но этом изменения самого пакета никак не будут отслеживаться, да и относительный путь до папки с ним может быть очень громоздким.
(прим. пер. - в оригинале статьи указана команда `yarn add file:relative/path`, однако корректно работает именно приведенная в переводе, также в оригинале говорится о том, что npm не добавляет в список зависимостей в package.json название пакета при копировании, однако сейчас (01.03.21) -  это не так)